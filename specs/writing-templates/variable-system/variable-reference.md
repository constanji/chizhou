# 变量系统参考

## 概述

模板系统使用占位符变量来标记需要动态填充的内容位置。

## 系统变量

系统自动生成的变量，无需用户提供。

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{date}}` | 当前日期（中文格式） | 2024年3月15日 |
| `{{year}}` | 当前年份 | 2024 |
| `{{month}}` | 当前月份 | 3 |
| `{{day}}` | 当前日 | 15 |
| `{{weekday}}` | 星期几 | 星期五 |
| `{{timestamp}}` | 时间戳 | 2024-03-15 10:30:00 |

## 通用变量

适用于所有文书类型的通用变量。

| 变量 | 说明 | 必填 | 示例值 |
|------|------|------|--------|
| `{{title}}` | 文书标题 | 是 | 关于XX的报告 |
| `{{recipient}}` | 收文对象 | 视情况 | 市财政局 |
| `{{signature}}` | 落款单位 | 是 | XX区人民政府 |
| `{{topic}}` | 主题事项 | 是 | 2024年度工作 |

## 需求澄清变量

从用户输入中收集的变量。

| 变量 | 说明 | 取值范围 |
|------|------|----------|
| `{{recipient_type}}` | 收文对象类型 | 上级领导/同级部门/下级单位/外部单位 |
| `{{recipient_title}}` | 具体职务 | 处长/主任/局长等 |
| `{{scenario}}` | 场景类型 | report/letter/speech/briefing/proposal/memo |
| `{{context}}` | 写作背景 | （用户描述） |
| `{{word_count}}` | 目标字数 | 500/1000/2000/3000/5000 |
| `{{audience}}` | 阅读对象 | （用户描述） |
| `{{purpose}}` | 写作目的 | 汇报工作/请求批准/通知告知等 |
| `{{tone}}` | 语气风格 | formal/semi-formal/professional/warm |
| `{{key_points}}` | 关键要点 | （用户描述） |
| `{{references}}` | 参考资料 | （用户描述） |

## 场景专用变量

### 报告类（report）

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{report_type}}` | 报告类型 | 工作报告/总结/汇报 |
| `{{period}}` | 时间范围 | 2024年1-6月 |
| `{{achievements}}` | 主要成绩 | （列表形式） |
| `{{problems}}` | 存在问题 | （列表形式） |
| `{{next_steps}}` | 下一步计划 | （列表形式） |

### 函件类（letter）

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{letter_type}}` | 函件类型 | 请示/批复/通知/函 |
| `{{background}}` | 背景说明 | （段落） |
| `{{request_content}}` | 请示/函告内容 | （段落） |
| `{{attachments}}` | 附件列表 | 1. XX 2. XX |

### 讲话类（speech）

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{event_name}}` | 会议/活动名称 | 2024年工作动员大会 |
| `{{speaker_name}}` | 讲话人 | （可选） |
| `{{salutation}}` | 称呼 | 同志们、朋友们 |
| `{{opening}}` | 开场白 | （段落） |
| `{{closing}}` | 结束语 | （段落） |

### 方案类（proposal）

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{guiding_principle}}` | 指导思想 | （段落） |
| `{{objectives}}` | 工作目标 | （列表） |
| `{{tasks}}` | 主要任务 | （列表） |
| `{{timeline}}` | 实施步骤 | （阶段列表） |
| `{{safeguards}}` | 保障措施 | （列表） |

### 会议纪要类（memo）

| 变量 | 说明 | 示例值 |
|------|------|--------|
| `{{meeting_title}}` | 会议名称 | XX专题工作会议 |
| `{{location}}` | 会议地点 | 三楼会议室 |
| `{{host}}` | 主持人 | XX同志 |
| `{{participants}}` | 参会人员 | XX、XX等同志 |
| `{{agenda}}` | 会议议题 | （列表） |
| `{{decisions}}` | 会议决定 | （列表） |
| `{{assignments}}` | 工作分工 | （表格/列表） |

## 使用规则

### 1. 变量命名
- 使用双花括号包裹：`{{variable_name}}`
- 变量名使用小写字母和下划线
- 变量名应具有描述性

### 2. 必填与可选
- 必填变量：必须提供值才能生成完整内容
- 可选变量：未提供时使用默认值或跳过

### 3. 默认值处理
未提供值时的处理方式：
- 系统变量：自动生成
- 必填变量：提示用户补充
- 可选变量：使用默认值或显示"XXX"

### 4. 变量替换
生成内容时，按以下顺序替换：
1. 系统变量（自动）
2. 用户提供的变量
3. 从上下文推断的变量
4. 使用默认值
