version: 1.2.1
cache: true
mcpServers:
  文生图:
    type: streamable-http
    url: https://mcp.api-inference.modelscope.net/f39be3cde8434c/mcp
    chatMenu: true
    startup: false
    customUserVars: {}
  图表生成:
    type: streamable-http
    url: https://mcp.api-inference.modelscope.net/9d5a4932d3f548/mcp
    chatMenu: false
    startup: false
    customUserVars: {}
  MAA-MCP:
    type: streamable-http
    url: http://localhost:8000/mcp
    chatMenu: false
    startup: false
    customUserVars: {}
  DAT:
    type: sse
    url: http://0.0.0.0:8080/sse
    chatMenu: false
    startup: false
    customUserVars: {}
interface:
  customWelcome: 因为智能问数系统
  defaultEndpoint: deepseek
  defaultModel: deepseek-chat
  fileSearch: true
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  multiConvo: false
  agents: true
  peoplePicker:
    users: true
    groups: true
    roles: true
  marketplace:
    use: false
  fileCitations: true
  temporaryChat: false
  bookmarks: false
registration:
  socialLogins:
    - github
    - google
    - discord
    - openid
    - facebook
    - apple
    - saml
actions:
  allowedDomains:
    - swapi.dev
    - google.com
    - localhost
    - host.docker.internal
    - hsp-sql-api
endpoints:
  agents:
    recursionLimit: 50
    maxRecursionLimit: 100
    capabilities:
      - execute_code
      - file_search
      - actions
      - tools
  custom:
    - name: modelscope
      apiKey: ${MODELSCOPE_API_KEY}
      baseURL: https://api-inference.modelscope.cn/v1
      models:
        default:
          - Qwen/Qwen3-VL-235B-A22B-Instruct
          - Qwen/Qwen3-0.6B
          - Qwen/Qwen3-Coder-480B-A35B-Instruct
          - Qwen/QwQ-32B
          - Qwen/Qwen3-32B
          - Qwen/Qwen2.5-72B-Instruct
          - Qwen/Qwen2.5-VL-72B-Instruct
          - Qwen/Qwen3-Next-80B-A3B-Instruct
          - deepseek-ai/DeepSeek-V3.2-Exp
          - deepseek-ai/DeepSeek-V3.1
        fetch: false
      titleConvo: true
      dropParams:
        - stop
      forceStringContent: true
      modelDisplayLabel: ModelScope
      titleModel: Qwen/Qwen3-Coder-480B-A35B-Instruct
    - name: deepseek
      apiKey: ${DEEP_SEEK_API_KEY}
      baseURL: https://api.deepseek.com/v1
      models:
        default:
          - deepseek-chat
          - deepseek-coder
          - deepseek-reasoner
          - deepseek
        fetch: false
      titleConvo: true
      titleModel: deepseek-chat
      modelDisplayLabel: deepseek
    - name: ChatGPT
      apiKey: ${OPENAI_API_KEY}
      baseURL: https://api.openai.com/v1/responses
      models:
        default:
          - gpt-5-nano
        fetch: false
      titleConvo: true
      modelDisplayLabel: ChatGPT
memory:
  disabled: false
  validKeys:
    - preferences
    - work_info
    - personal_info
    - skills
    - interests
    - context
  tokenLimit: 10000
  personalize: true
  agent:
    provider: deepseek
    model: deepseek-chat
    instructions: |
      你是一个智能记忆管理助手。分析对话内容，自动提取并存储以下类型的重要信息：
      1. 用户的身份信息（姓名、昵称、职业、角色等）
      2. 用户的偏好和习惯（喜欢什么、不喜欢什么、常用方式等）
      3. 用户的工作和学习信息（工作内容、学习目标、项目等）
      4. 用户的技能和兴趣（擅长什么、兴趣爱好等）
      5. 对话中的重要上下文信息（重要事件、关系、背景等）

      使用 set_memory 工具自动存储这些信息，使用合适的 key（如 personal_info, preferences, work_info, skills, interests, context 等）。
      如果信息已经存在，使用 set_memory 更新它。
      只有在用户明确要求删除时，才使用 delete_memory。

      主动识别并存储重要信息，不要等待用户明确请求。但要确保存储的信息是有价值的、准确的，避免存储无关的临时对话内容。
    model_parameters:
      temperature: 0.1

